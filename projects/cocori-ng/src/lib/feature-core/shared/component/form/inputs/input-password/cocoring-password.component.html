<ng-container [formGroup]="formGroup">
    <mat-form-field [appearance]="appearance" [ngClass]="{'mat-form-compact': styleCompact}">
        <mat-label>{{nameLabel}}</mat-label>
        
        <div matPrefix>
            <input-icon [icon]="icon"></input-icon>
        </div>

        <input matInput [type]="type" [formControlName]="nameControl" />

        <div matSuffix style="display:flex">
            <button type="button" tabindex="-1" class="suffix-icon" (click)="toggleRevealPassword()" mat-icon-button
                aria-label="Révéler / cacher le mot de passe">
                <mat-icon>
                    <ng-container *ngIf="!revealPasswordStatus">visibility</ng-container>
                    <ng-container *ngIf="revealPasswordStatus">visibility_off</ng-container>
                </mat-icon>
            </button>

            <input-icon icon="close" *ngIf="formGroup.get(nameControl).value" (click)="clearValue($event)">
            </input-icon>
        </div>

        <mat-error error-handler [form]="formGroup" [controlName]="nameControl"></mat-error>
    </mat-form-field>
</ng-container>