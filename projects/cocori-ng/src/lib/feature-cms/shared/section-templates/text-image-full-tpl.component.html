<section-tpl [backgroundColor]="section.backgroundColor" [flexWidth]="flexWidth" [orientation]="orientation"
    [orientationWidth]="orientationWidth" (openBottomSheet)="openBottomSheet()">
    <div class="row-zones" fxFlex="100%" [fxLayout]="orientation">
        <div fxFlex="50%" fxFlex.lt-md="100%" class="zone-editor zone-left" [ngClass.lt-md]="'zone-left-mobile'">
            <div class="container-wysiwyg">
                <ng-template *ngIf="!readOnly" #ContainerEditor1Ref></ng-template>
                <div *ngIf="readOnly" [innerHtml]="value['editor1'] | variableHtml"></div>
            </div>
        </div>
        <div fxFlex="50%" fxFlex.lt-md="100%" class="zone-editor">
            <div *ngIf="!readOnly" class="container-image-full" (click)="browseFile('backgroundImage1')">
                <div class="image-full"
                    [ngStyle]="{'background-image': 'url(' + (section.values['backgroundImage1'] ?  section.values['backgroundImage1'] : '') + ')'}">
                </div>
                <div class="addNewFile">
                    <div class="badges-actions" *ngIf="!isUploading">
                        <div class="badge">
                            <mat-icon>add_photo_alternate</mat-icon>
                        </div>
                        <div class="badge badge-delete" (click)="removeBackground($event, 'backgroundImage1')">
                            <mat-icon>delete_outline</mat-icon>
                        </div>
                    </div>
                    <svg *ngIf="isUploading" class="progress" width="59" height="59">
                        <circle #progressCircle class="progress-circle" cx="30" cy="30" r="28" fill="white" />
                        <text class="text-progress" x="30" y="30" alignment-baseline="middle" text-anchor="middle">
                            {{uploadProgress}} %
                        </text>
                    </svg>
                </div>
            </div>
            <div *ngIf="readOnly" class="container-image-full">
                <div class="image-full"
                    [ngStyle]="{'background-image': 'url(' + (section.values['backgroundImage1'] ?  section.values['backgroundImage1'] : '') + ')'}">
                </div>
            </div>
        </div>
    </div>
</section-tpl>

<input #uploader hidden class="browse-file" type="file" name="fileUpload" accept="image/*" />